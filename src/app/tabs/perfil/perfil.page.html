<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button text=""></ion-back-button>
    </ion-buttons>
    <ion-title>PERFIL</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="api.logout()"><ion-icon slot="icon-only" name="exit"></ion-icon></ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<!-- <ion-header>
  <ion-toolbar>
    <ion-title>register</ion-title>
  </ion-toolbar>
</ion-header> -->

<ion-content class="gray">

  <div>

    <div class="center-item">

      <img src="assets/logo.png" alt="" class="logo">

      <form class="form" [formGroup]="validations_form" (ngSubmit)="registerUser(validations_form.value)">
      
      <ion-list>

        <ion-item class="ion-no-padding" lines="none">
          <!-- <ion-label position="floating">NOMBRE</ion-label> -->
          <!-- <ion-input formControlName="name" type="text" ></ion-input> -->
          <div class="form-group">
            <div class="icon-prepend">
              <ion-icon name="person"></ion-icon>
            </div>
            <input formControlName="name" placeholder="Usuario" type="text" name="">
          </div>

          <!-- <span slot="end" *ngIf="name.length > 8"> -->
            <!-- <ion-icon name="checkmark"></ion-icon> -->
          <!-- </span> -->
        </ion-item>
          <div class="validation-errors">
                  <ng-container *ngFor="let validation of validation_messages.name">
                    <div class="error-message" *ngIf="validations_form.get('name').hasError(validation.type) && (validations_form.get('name').dirty || validations_form.get('name').touched)">
                      {{ validation.message }}
                    </div>
                  </ng-container>
                </div>

        <ion-item class="ion-no-padding" lines="none">
          <!-- <ion-label position="floating">EMAIL</ion-label> -->
          <!-- <ion-input formControlName="email" type="text" ></ion-input> -->

          <div class="form-group">
            <div class="icon-prepend">
              <ion-icon name="mail-outline"></ion-icon>
            </div>
            <input formControlName="email" readonly="readonly" placeholder="E-mail" type="text" name="">
          </div>

          <!-- <span slot="end" *ngIf="email.length > 8"> -->
            <!-- <ion-icon name="checkmark"></ion-icon> -->
          <!-- </span> -->
        </ion-item>
          <div class="validation-errors">
                  <ng-container *ngFor="let validation of validation_messages.email">
                    <div class="error-message" *ngIf="validations_form.get('email').hasError(validation.type) && (validations_form.get('email').dirty || validations_form.get('email').touched)">
                      {{ validation.message }}
                    </div>
                  </ng-container>
                </div>

        <ion-item class="ion-no-padding" lines="none">
          <!-- <ion-label position="floating">PASSWORD</ion-label> -->

          <div class="form-group">
            <div class="icon-prepend">
              <ion-icon name="lock-closed-outline"></ion-icon>
            </div>
            <input formControlName="password" placeholder="Password" [type]="show_password_0" name="">
            <div class="icon-append">
              <ion-icon name="eye" (click)="changeView(0)"></ion-icon>
            </div>
          </div>

        </ion-item>
          <div class="validation-errors">
                  <ng-container *ngFor="let validation of validation_messages.password">
                    <div class="error-message" *ngIf="validations_form.get('password').hasError(validation.type) && (validations_form.get('password').dirty || validations_form.get('password').touched)">
                      {{ validation.message }}
                    </div>
                  </ng-container>
                </div>

        <!-- <ion-item>
        </ion-item> -->
      </ion-list>
        <!-- <ion-label>
          <ion-checkbox id="local" style="position: relative; top: 3px;" [(ngModel)]="local"></ion-checkbox>

          <label (click)="changeLocal()"> Soy un local (Provisional)</label>
        </ion-label> -->

      <button type="submit" class="bmb-btn t-4" [disabled]="!validations_form.valid">Guardar Cambios</button>

      <br>

    </form>

    </div>
    
  </div>

</ion-content>
